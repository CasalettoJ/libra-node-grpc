{
  "name": "libra_nodejs_grpc",
  "version": "0.0.1",
  "description": "Test gRPC Nodejs project w/ Libra protobufs",
  "main": "index.js",
  "author": "Jake Casaletto",
  "license": "MIT",
  "scripts": {
    "test-libra-env-var": "if [ -z $LIBRA ]; then echo \"\\$LIBRA environment variable missing.\"; echo \"Please set \\$LIBRA to the Libra Core root path\"; exit 1; fi",
    "testnet": "npm run test-libra-env-var && (cd $LIBRA && ./scripts/cli/start_cli_testnet.sh)",
    "setup": "npm install && mkdir -p dist && npm run build",
    "clean": "rm -rf dist/* && npm run clean-protos",
    "clean-protos": "rm -rf src/proto/* && mkdir -p src/proto/flowtypes && mkdir -p src/proto/js",
    "build": "npm run clean && npm run build-protos && cp -a ./src/. ./dist/",
    "copy-protos": "npm run test-libra-env-var && echo \"Copying Libra protobuf files...\"; sourcedir=$(pwd); find $LIBRA -name \"*.proto\" -execdir echo \"\tCopying {}...\" \\; -execdir cp \"{}\" $sourcedir/src/proto \\; -execdir sed -i '' 's#import \"shared/#import \"#g' $sourcedir/src/proto/{} \\;",
    "build-protos": "npm run test-libra-env-var && npm run clean-protos && npm run copy-protos && echo \"Building and Flow-typing Libra protobuf files...\"; sourcedir=$(pwd); find ./src/proto -name \"*.proto\" -execdir protoc --plugin=protoc-gen-grpc=`which grpc_tools_node_protoc_plugin` --grpc_out=$sourcedir/src/proto/js --plugin=\"protoc-gen-flow=$sourcedir/node_modules/.bin/protoc-gen-flow\" --js_out=\"import_style=commonjs,binary:$sourcedir/src/proto/js\" --flow_out=service=true:\"$sourcedir/src/proto/flowtypes\"  -I$sourcedir/src/proto \"{}\"  \\;"
  },
  "dependencies": {
    "eslint": "^5.3.0",
    "grpc": "^1.21.1"
  },
  "devDependencies": {
    "eslint-config-airbnb": "^17.1.0",
    "eslint-plugin-import": "^2.17.3",
    "eslint-plugin-jsx-a11y": "^6.2.1",
    "eslint-plugin-react": "^7.14.0",
    "flowtype-protoc-gen": "^0.8.1-pre",
    "google-protobuf": "^3.8.0"
  }
}
